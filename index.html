<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Booyah Pass Asset Browser</title>

<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@800&family=Rajdhani:wght@600&family=Inter:wght@400;600&display=swap" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.1/dist/jszip.min.js"></script>

<style>
*{margin:0;padding:0;box-sizing:border-box}

:root{
--bg:#000;
--card:#0b0b0b;
--border:#141414;
--text:#fff;
--muted:#777;
--accent:#ff2e00;
}

body{
background:var(--bg);
color:var(--text);
font-family:Inter,sans-serif;
}

header{
padding:30px 20px;
border-bottom:1px solid var(--border);
text-align:center;
}

h1{
font-family:Orbitron;
letter-spacing:5px;
font-size:1.8rem;
}

.nav{
display:flex;
gap:10px;
justify-content:center;
margin-top:18px;
flex-wrap:wrap;
}

.nav a{
padding:8px 18px;
border-radius:16px;
border:1px solid var(--border);
text-decoration:none;
color:var(--text);
font-family:Rajdhani;
letter-spacing:2px;
font-size:.85rem;
}

.nav a.active{
background:var(--accent);
border-color:var(--accent);
}

/* CENTER DOWNLOAD BUTTON */
.download-wrapper{
margin-top:20px;
display:flex;
justify-content:center;
}

#downloadAll{
padding:12px 36px;
border-radius:999px;
border:none;
background:var(--accent);
color:#fff;
font-family:Rajdhani;
letter-spacing:3px;
font-size:.85rem;
cursor:pointer;
box-shadow:0 0 22px rgba(255,46,0,.35);
}

/* CONTENT */

.container{
max-width:1800px;
margin:auto;
padding:30px 20px;
}

.bp-header{
font-family:Rajdhani;
letter-spacing:3px;
font-size:1.2rem;
margin-bottom:30px;
color:#ddd;
}

.section{
margin-bottom:50px;
}

.section-title{
font-family:Rajdhani;
letter-spacing:3px;
font-size:1rem;
margin-bottom:16px;
color:#ccc;
}

.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(130px,1fr));
gap:14px;
}

.card{
background:var(--card);
border:1px solid var(--border);
border-radius:14px;
padding:14px;
position:relative;
height:170px;
display:flex;
flex-direction:column;
align-items:center;
justify-content:center;
transition:.2s;
}

.card:hover{border-color:var(--accent)}

.icon{
width:70px;
height:70px;
display:flex;
align-items:center;
justify-content:center;
}

.icon img{
max-width:100%;
max-height:100%;
object-fit:contain;
}

.card-name{
margin-top:10px;
font-size:.7rem;
text-align:center;
color:#ddd;
}

.card-path{
font-size:.6rem;
color:var(--muted);
margin-top:4px;
text-align:center;
word-break:break-all;
}

.download{
position:absolute;
top:10px;
right:10px;
width:26px;
height:26px;
border-radius:50%;
border:1px solid var(--border);
background:#000;
color:#fff;
font-size:.75rem;
cursor:pointer;
display:none;
align-items:center;
justify-content:center;
}

.card:hover .download{display:flex}
.download:hover{background:var(--accent);border-color:var(--accent)}

footer{
border-top:1px solid var(--border);
padding:20px;
text-align:center;
color:#666;
font-size:.7rem;
}
footer strong{color:#fff}
</style>
</head>

<body>

<header>
  <h1>BOOYAH PASS</h1>
  <div class="nav" id="bpNav"></div>

  <div class="download-wrapper">
    <button id="downloadAll">DOWNLOAD ALL IMAGES</button>
  </div>
</header>

<div class="container" id="app"></div>

<footer>
  Made with ü§ç by <strong>MK</strong><br>
  Free Fire assets belong to Garena
</footer>

<script>
/* ========= MANUAL CONFIG ========= */

const BASE_URL = "https://dl.dir.freefiremobile.com/common/OB52/CSH";

const BPS = [
  { bp: 93, season: 38 },
  { bp: 94, season: 39 },
  { bp: 95, season: 40 }
];

/* ========= CORE ========= */

const params = new URLSearchParams(location.search);
const CURRENT_BP = parseInt(params.get("bp")) || BPS[0].bp;
const cfg = BPS.find(b=>b.bp===CURRENT_BP);

/* ========= NAV ========= */

const nav=document.getElementById("bpNav");
BPS.forEach(b=>{
  const a=document.createElement("a");
  a.href=`?bp=${b.bp}`;
  a.textContent=`BP ${b.bp}`;
  if(b.bp===CURRENT_BP) a.classList.add("active");
  nav.appendChild(a);
});

/* ========= HELPERS ========= */

function download(url){
  const a=document.createElement("a");
  a.href=url;
  a.download=url.split("/").pop();
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
}

function card(src,name){
  return `
  <div class="card">
    <button class="download" onclick="download('${src}')">‚¨á</button>
    <div class="icon">
      <img src="${src}" onerror="this.closest('.card').remove()">
    </div>
    <div class="card-name">${name}</div>
    <div class="card-path">${src.split('/').pop()}</div>
  </div>`;
}

function section(title,items){
  return `
  <div class="section">
    <div class="section-title">${title}</div>
    <div class="grid">${items.join("")}</div>
  </div>`;
}

/* ========= DOWNLOAD BP ========= */

async function downloadBP(bp){
  const zip=new JSZip();
  const folder=zip.folder(`BP_${bp}`);
  const urls=[];

  [
    `BP_${bp}.png`,
    `BP_Premium_title_${bp}.png`,
    `BP_Premium_icon_${bp}.png`,
    `BP_Premium_symbol_${bp}.png`,
    `BP_Premium_bg_${bp}.jpg`,
    `BP_Window_PP_${bp}.png`,
    `BP_Prize_${bp}.png`
  ].forEach(f=>urls.push(`${BASE_URL}/BP${bp}/${f}`));

  for(let i=1;i<=10;i++){
    urls.push(`${BASE_URL}/BP${bp}/BP_GRANDPrize${String(i).padStart(2,"0")}_${bp}.jpg`);
    urls.push(`${BASE_URL}/BP${bp}/BP_Premium_item_bg${String(i).padStart(2,"0")}_${bp}.jpg`);
  }

  for(let i=1;i<=60;i++){
    urls.push(`${BASE_URL}/BP${bp}/subtype${i}_${bp}.jpg`);
  }

  let added=0;
  for(const url of urls){
    try{
      const r=await fetch(url);
      if(!r.ok) continue;
      const b=await r.blob();
      if(!b.type.startsWith("image/")) continue;
      folder.file(url.split("/").pop(),b);
      added++;
    }catch{}
  }

  if(!added){alert("No images found");return;}

  const blob=await zip.generateAsync({type:"blob"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download=`BP_${bp}_Images.zip`;
  a.click();
}

document.getElementById("downloadAll")
  .addEventListener("click",()=>downloadBP(CURRENT_BP));

/* ========= RENDER ========= */

document.title=`BP ${cfg.bp} ‚Äì Season ${cfg.season}`;

let html=`<div class="bp-header">BP ${cfg.bp} ‚Äî SEASON ${cfg.season}</div>`;

/* Titles */
let t=[];
[`BP_${cfg.bp}.png`,`BP_Premium_title_${cfg.bp}.png`,`BP_Premium_icon_${cfg.bp}.png`,`BP_Window_PP_${cfg.bp}.png`,`BP_Prize_${cfg.bp}.png`]
.forEach(f=>t.push(card(`${BASE_URL}/BP${cfg.bp}/${f}`,f.replace(/_/g," "))));

html+=section("Premium Title Assets",t);

/* Grand */
let g=[];
for(let i=1;i<=10;i++){
g.push(card(`${BASE_URL}/BP${cfg.bp}/BP_GRANDPrize${String(i).padStart(2,"0")}_${cfg.bp}.jpg`,`Grand Prize ${i}`));
}
html+=section("Grand Prizes",g);

/* Subtypes */
let s=[];
for(let i=1;i<=60;i++){
s.push(card(`${BASE_URL}/BP${cfg.bp}/subtype${i}_${cfg.bp}.jpg`,`Subtype ${i}`));
}
html+=section("Subtype Items",s);

document.getElementById("app").innerHTML=html;
</script>

</body>
</html>
